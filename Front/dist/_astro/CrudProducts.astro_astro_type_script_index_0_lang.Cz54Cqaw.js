const a="https://logihub.space/api/";async function i(n){const t=`${a}${n}`;return console.info(`Fetching ${t}â€¦`),fetch(t).then(e=>e.json()).catch(e=>{throw console.error(e),Error("Invalid API data!")})}const h={products:()=>[{id:1,name:"Sample Product"}],users:()=>[{id:1,name:"John Doe",email:"john@example.com"}]};class l extends HTMLElement{#t=this.querySelector("tbody");#e=this.#t.querySelectorAll("tr");#o=this.querySelector("[data-refresh]");type;constructor(){super();const t=this.getAttribute("type");if(Object.keys(h).find(e=>e===t))this.type=t;else throw Error("Wrong CRUD type!");this.#o?.addEventListener("click",()=>{this.update().catch(()=>{})})}async update(){if(!this.type)return;const t=await i(this.type);console.log("UP"),this.#e.forEach((e,c)=>e.querySelectorAll("data").forEach(r=>{const s=r.value,o=t[c];o&&s in o&&(r.innerText=o[s].toString())})),console.log("New data received!",t)}}const d="entities-crud";customElements.define(d,l);
